<?xml version="1.0" encoding="utf-8" ?>
<odoo>

<!--        <template id="website_sale_products_item" name="Product Item Base" inherit_id="website_sale.products_item">-->
    <!-- Add SKU into product list and product grid views-->
    <!--        <xpath expr="//section/h5" position="before">-->
    <!--            <div class="product_details-sku" t-if="product.default_code">-->
    <!--                <strong>SKU: </strong><span itemprop="sku" t-esc="product.default_code"/>-->
    <!--            </div>-->
    <!--        </xpath>-->
<!--        </template>-->

    <!-- Catch not published categories if their child are published -->
    <template id="website_sale_option_collapse_categories_recursive" inherit_id="website_sale.option_collapse_categories_recursive" name="Collapse Category Recursive Product Base">
        <xpath expr="//i" position="attributes">
            <attribute name="t-if" add="and (categ.child_id.filtered(lambda x: x.website_published if x.website_published is True else False))" separator=" "/>
        </xpath>
        <xpath expr="//ul" position="attributes">
            <attribute name="t-if" add="and (categ.child_id.filtered(lambda x: x.website_published if x.website_published is True else False))" separator=" "/>
        </xpath>
        <xpath expr="//t[@t-call='website_sale.option_collapse_categories_recursive']" position="attributes">
            <attribute name="t-if">categ.website_published</attribute>
        </xpath>
    </template>

<!--    <template id="website_sale_product" name="Product Base" inherit_id="website_sale.product">-->
        <!-- Add SKU into product detail view without replace all product detail template -->
        <!--        <xpath expr="//div[@id='product_details']/h1" position="after">-->
<!--                    <div class="product_details-sku" t-if="product.default_code">-->
<!--                        <strong>SKU: </strong><span itemprop="sku" t-esc="product.default_code"/>-->
<!--                    </div>-->
        <!--        </xpath>-->
<!--    </template>-->

    <template id="website_sale_search_pricelist" name="Search Box Pricelist Base">
        <form t-att-action="keep('/tarifas', search=0)" method="get" t-att-class="_classes">
            <t t-if="attrib_values">
                <t t-foreach="attrib_values" t-as="a">
                    <input type="hidden" name="attrib" t-att-value="'%s-%s' % (a[0], a[1])" />
                </t>
            </t>
            <t t-call="website.website_search_box" />
        </form>
    </template>

    <template id="website_sale_products_pricelist" name="Product Dismac Pricelist" inherit_id="website_sale.products">
        <xpath expr="//t[@t-call='website_sale.search']" position="after">
            <t t-if="list_type and list_type == 'pricelist'" t-call="website_base.website_sale_search_pricelist">
                <t t-set="_classes">o_website_sale_search</t>
            </t>
        </xpath>
    </template>

    <template id="tax_price" name="Tax prices list view" inherit_id="website_sale.product_price">
        <xpath expr="//b[hasclass('oe_price')]" position="after">
            <br/>
                <b class="oe_price_tax" style="white-space: nowrap;" t-esc="combination_info['tax_price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/> con IVA
        </xpath>
    </template>

    <template id="tax_price_list" name="Tax prices list view" inherit_id="website_sale.products_item">
        <xpath expr="//span[@t-if=&quot;combination_info[&apos;price&apos;]&quot;]" position="after">
             + IVA
        </xpath>
    </template>


</odoo>